chmod +x gate_secrets_and_role.sh
REGION=us-east-1 INSTANCE_ID=i-0123456789abcdef0 SECRET_ID=my-db-secret ./gate_secrets_and_role.sh

From inside the EC2 instance (prove the instance role can actually read the secret)

CHECK_SECRET_VALUE_READ=true REGION=us-east-1 INSTANCE_ID=i-0123456789abcdef0 SECRET_ID=my-db-secret ./gate_secrets_and_role.sh

  Strict mode: require rotation enabled

REQUIRE_ROTATION=true REGION=us-east-1 INSTANCE_ID=i-0123456789abcdef0 SECRET_ID=my-db-secret ./gate_secrets_and_role.sh

  What your admin can auto-grade

gate_result.json fields:
    status (PASS/FAIL)
    exit_code (0/2)
    failures[] and warnings[] for feedback

Example:

cat gate_result.json | jq .


  






